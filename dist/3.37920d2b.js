(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"8z3z":function(t,e,a){t.exports=a.p+"header-shopping-carticon.7abd66f8.jpg"},EfjD:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"items"}},[a("div",{staticClass:"container-fluid bg-light"},[a("router-view"),t._v(" "),a("router-link",{attrs:{to:"/shoppingcenter/cart"}},[a("div",{staticClass:"add-to-cart",on:{click:t.addItemsToCart}},[a("img",{attrs:{src:"https://ericchang159.github.io/Vue-Ecommerce/src/image/header-shopping-carticon.jpg"}}),t._v(" "),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"}},[t._v("Add to cart")])])]),t._v(" "),a("div",{staticClass:"row "},[a("div",{staticClass:"col-md-12"},[a("ul",{staticClass:"nav nav-tabs mt-2 mb-3 "},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link ",class:{active:"popularity"==t.tabType},attrs:{href:"#"},on:{click:function(e){return t.dataTypeTab("popularity")}}},[t._v("Popularity")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"vote_average"==t.tabType},attrs:{href:"#"},on:{click:function(e){return t.dataTypeTab("vote_average")}}},[t._v("Rating Average")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link ",class:{active:"vote_count"==t.tabType},attrs:{href:"#"},on:{click:function(e){return t.dataTypeTab("vote_count")}}},[t._v("Vote count")])]),t._v(" "),t._m(0),t._v(" "),a("li",[a("form",{staticClass:"form-inline   ml-auto mr-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"form-control ml-2 mr-2",attrs:{type:"text",placeholder:"Search","aria-label":"search"},domProps:{value:t.keyWord},on:{input:function(e){e.target.composing||(t.keyWord=e.target.value)}}})])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 bg-light"},[a("button",{staticClass:"btn btn-outline-success mr-2",on:{click:function(e){return t.selectedAll(1)}}},[t._v("Select All")]),t._v(" "),a("button",{staticClass:"btn btn-outline-success",on:{click:function(e){return t.selectedAll(-1)}}},[t._v("Cancel All")])])]),t._v(" "),a("div",{staticClass:"row bg-light"},t._l(t.keyWordSearch,function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:i<t.dataLimit,expression:"index < dataLimit"}],key:i,staticClass:"col-xl-4"},[a("div",{staticClass:"product-box"},[a("div",{staticClass:"img-icon"},[a("img",{staticClass:"not-selected",class:[e.isPhotoSelected?"selected":""],attrs:{src:t.imagePath+e.poster_path,alt:e.isPhotoSelected},on:{click:function(a){return t.beSelected(e)}}}),t._v(" "),a("div",{staticClass:"show-type"},t._l(t.types,function(i,o){return a("div",{key:o},[a("span",{staticClass:"not-choose",class:[e.activeTypes&&e.activeTypes.includes(i)?"ischoose":""],on:{click:function(a){return t.chooseShowType(e,i)}}},[t._v(t._s(i))])])}),0)]),t._v(" "),a("ul",{staticClass:"product-inf"},[a("li",{domProps:{innerHTML:t._s(e.title)}}),t._v(" "),a("li",[t._v("Release date:")]),t._v(" "),a("li",{domProps:{innerHTML:t._s(e.release_date)}}),t._v(" "),a("li",[t._v("vote_average : "+t._s(e.vote_average))]),t._v(" "),a("span",{staticClass:"ratings"},[a("li",{staticClass:"empty-stars"}),t._v(" "),a("li",{staticClass:"full-stars",style:{width:e.vote_average/10*100+"%"}})]),t._v(" "),a("div",{staticClass:"cart-quantity"},[a("button",{staticClass:"btn btn-success mr-2",on:{click:function(a){return t.changeQuantity(e,1)}}},[t._v("+")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"items.quantity"}],staticClass:"form-control col-3 align-items-center",attrs:{type:"text",readonly:""},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,"quantity",a.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-success ml-2",on:{click:function(a){return t.changeQuantity(e,-1)}}},[t._v("-")])])])])])}),0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 bg-light btn-showmore"},[a("button",{staticClass:"btn btn-outline-primary show-more-data",on:{click:function(e){return t.showMore(-1)}}},[t._v("Hide")]),t._v(" "),a("button",{staticClass:"btn btn-outline-primary show-more-data",on:{click:function(e){return t.showMore(1)}}},[t._v("Show More")])])])],1)])};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i._withStripped=!0;var s={data:function(){return{types:["2D","3D","IMAX"],update:!1,moviePage1:"",moviePage2:"",movieRank1:[],movieRank2:"",imagePath:"https://image.tmdb.org/t/p/w500",quantity:0,selected:!1,chooseData:[],tabType:"popularity",keyWord:"",dataLimit:"9",cartDataId:[],cartIcon:a("8z3z"),websiteAddress:location.href}},props:["cartData"],computed:{test:function(){},keyWordSearch:function(){var t=this;return JSON.parse(JSON.stringify(this.movieRank1)).filter(function(e){var a=!1;return["title","release_date"].forEach(function(i){e[i];if(t.update||-1!=e[i].toLowerCase().indexOf(t.keyWord)&&" "!==t.keyWord){var o=e[i].match(new RegExp(t.keyWord,"i")),s=new RegExp(t.keyWord,"i");return e[i]=e[i].replace(s,"<span class= highLight>".concat(o,"</span>")),a=!0}}),a})}},methods:{getsomething:function(){},showMore:function(t){this.dataLimit=t>0?this.dataLimit+9:9},chooseShowType:function(t,e){var a=t.id,i=this.movieRank1.findIndex(function(t){return t.id===a}),o=this.movieRank1.slice(),s=o[i];s.activeTypes?(s.activeTypes=[],s.activeTypes.push(e)):s.activeTypes=[e],null!=s.activeTypes&&null==s.quantity&&(s.isPhotoSelected=!0,s.quantity=1),this.movieRank1=o},clickme:function(t){},beSelected:function(t){var e=t.id,a=this.movieRank1.slice(),i=a[this.movieRank1.findIndex(function(t){return t.id===e})];i.isPhotoSelected?i.isPhotoSelected=!i.isPhotoSelected:(i.isPhotoSelected=!0,i.activeTypes=["2D"],i.quantity=1),0==i.isPhotoSelected&&(i.activeTypes=void 0,i.quantity=void 0),this.movieRank1=a},changeQuantity:function(t,e){var a=t.id,i=this.movieRank1.slice(),o=i.findIndex(function(t){return t.id===a}),s=i[o];void 0===s.quantity&&this.$set(s,"quantity",0),e<0?s.quantity--:s.quantity++,s.quantity<=0?(s.quantity=void 0,s.isPhotoSelected=!1,s.activeTypes=void 0):null!=s.quantity&&null==s.activeTypes&&(s.isPhotoSelected=!0,s.activeTypes=["2D"]),this.movieRank1=i},selectedAll:function(t){var e=this,a=this.movieRank1.slice();a.forEach(function(a){if(null==o(a.isPhotoSelected)&&(e.$set(a,"isPhotoSelected","false"),a.isPhotoSelected=!1),a.isPhotoSelected=t>0,t>0){if(null!=a.activeTypes)return;null==a.activeTypes&&(a.activeTypes=["2D"])}else a.activeTypes=void 0;1==a.isPhotoSelected&&null==a.quantity?a.quantity=1:0==a.isPhotoSelected&&(a.quantity=void 0)}),this.movieRank1=a},addItemsToCart:function(){var t=this;this.movieRank1.forEach(function(e){if(1==e.isPhotoSelected&&""==t.cartData)t.chooseData.push(e);else{if(1!=e.isPhotoSelected||0!=t.cartDataId.includes(e.id)){if(1==e.isPhotoSelected&&1==t.cartDataId.includes(e.id)){var a=t.cartData.findIndex(function(t){return t.id==e.id}),i=t.movieRank1.findIndex(function(t){return t.id==e.id});return t.cartData[a]=t.movieRank1[i],t.chooseData=t.cartData}return""==t.cartData?void 0:t.chooseData=t.cartData}t.cartData.push(e),t.chooseData=t.cartData}return t.chooseData}),this.$emit("sendData",this.chooseData)},dataTypeTab:function(t){var e=this;"vote_average"==t?this.movieRank1=this.movieRank1.sort(function(t,a){return e.tabType="vote_average",a.vote_average-t.vote_average}):"vote_count"==t?this.movieRank1=this.movieRank1.sort(function(t,a){return e.tabType="vote_count",a.vote_count-t.vote_count}):"popularity"==t&&(this.movieRank1=this.movieRank1.sort(function(t,a){return e.tabType="popularity",a.popularity-t.popularity}))}},mounted:function(){var t=this;window.vue=this,this.axios.get("https://api.themoviedb.org/3/discover/movie?api_key=192102bc85d3156ffe17c011468b1fb5&include_adult=ture&include_video=ture").then(function(e){t.moviePage1=e.data,t.movieRank1=t.moviePage1.results.slice(0,20).sort(function(t,e){e.popularity,t.popularity}),""!=t.cartData&&t.cartData.map(function(e){return t.cartDataId.push(e.id),t.cartDataId})})}},n=a("KHd+"),c=Object(n.a)(s,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"nav-item mr-auto"},[e("a",{staticClass:"nav-link disabled",attrs:{href:"#"}})])}],!1,null,null,null);c.options.__file="src/components/Home/cart/items.vue";e.default=c.exports}}]);